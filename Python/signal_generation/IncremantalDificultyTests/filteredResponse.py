# Seting upp libraries
import os
import sys

SCRIPT_DIR = os.path.dirname(os.path.abspath(__file__))
sys.path.append(os.path.dirname(SCRIPT_DIR))

import matplotlib.pyplot as pyplot

# Filtered signal
signal = [
    818,
    1586,
    1634,
    2688,
    58,
    978,
    -204,
    836,
    -1504,
    -2618,
    1306,
    -1070,
    2808,
    -822,
    -3266,
    1058,
    808,
    -290,
    44,
    748,
    850,
    -1454,
    -1174,
    -866,
    -590,
    -148,
    -174,
    716,
    3178,
    904,
    256,
    766,
    -1548,
    -236,
    -752,
    -242,
    -556,
    2740,
    876,
    -1918,
    1210,
    -482,
    2384,
    1076,
    -154,
    1524,
    842,
    -2660,
    408,
    2782,
    2008,
    538,
    2526,
    14,
    -682,
    828,
    2932,
    674,
    -292,
    58,
    -1148,
    798,
    1500,
    168,
    -450,
    -4196,
    1334,
    1816,
    -1184,
    612,
    1326,
    684,
    3308,
    216,
    154,
    -564,
    -1204,
    1602,
    -1478,
    2962,
    338,
    30,
    38,
    -552,
    -1034,
    266,
    -806,
    -664,
    -1594,
    -1972,
    566,
    -522,
    -1406,
    -1106,
    368,
    470,
    -1588,
    -330,
    64,
    -700,
    1226,
    -350,
    -368,
    2298,
    2666,
    -464,
    772,
    -2564,
    2418,
    1908,
    726,
    1892,
    -1504,
    -966,
    568,
    808,
    -710,
    684,
    -3136,
    -1626,
    498,
    -2268,
    -1030,
    166,
    -16,
    -202,
    -752,
    -1560,
    -1660,
    276,
    1048,
    -2638,
    10,
    2254,
    1926,
    -974,
    524,
    2078,
    110,
    -2752,
    -1080,
    2730,
    3702,
    508,
    -38,
    -352,
    568,
    1588,
    2184,
    -244,
    -1064,
    -416,
    -64,
    -968,
    -1584,
    1408,
    -2036,
    674,
    -450,
    -1858,
    960,
    356,
    80,
    1018,
    1554,
    750,
    -1284,
    -8,
    -252,
    -866,
    94,
    556,
    152,
    426,
    202,
    -1510,
    2188,
    2692,
    -3056,
    1376,
    -416,
    444,
    2942,
    -638,
    -1218,
    584,
    -1092,
    -952,
    -218,
    654,
    -2360,
    1898,
    438,
    2438,
    -1374,
    -2206,
    -1354,
    -1728,
    -552,
    1324,
    732,
    -1644,
    -894,
    646,
    276,
    -1842,
    -1354,
    -40,
    586,
    244,
    -1240,
    -1862,
    -996,
    -1082,
    -528,
    394,
    318,
    -1446,
    250,
    -1156,
    1964,
    926,
    392,
    -2200,
    1708,
    -3670,
    -4128,
    -420,
    -638,
    1382,
    -2194,
    198,
    10,
    -2502,
    1444,
    1472,
    3264,
    2520,
    -284,
    -1420,
    -1996,
    1562,
    -642,
    854,
    2036,
    -1046,
    -520,
    494,
    1862,
    1304,
    -718,
    -1218,
    -654,
    1822,
    -712,
    1474,
    1492,
    1344,
    44,
    570,
    1200,
    -992,
    -440,
    -650,
    -1970,
    -1454,
    -662,
    -1370,
    420,
    2208,
    -616,
    -1344,
    -1694,
    -228,
    -1532,
    -340,
    374,
    2354,
    -1458,
    1392,
    16,
    2260,
    -190,
    1300,
    -1006,
    -34,
    164,
    756,
    -1104,
    -550,
    1290,
    -1726,
    866,
    2512,
    -28,
    -392,
    810,
    1332,
    1750,
    -450,
    -68,
    1042,
    -1042,
    -172,
    -568,
    1736,
    -1494,
    -430,
    -940,
    1102,
    972,
    -1238,
    -30,
    1902,
    944,
    272,
    2058,
    2118,
    -1918,
    -636,
    -380,
    562,
    -552,
    382,
    -954,
    296,
    -1086,
    1280,
    -1822,
    -470,
    138,
    110,
    -304,
    294,
    -892,
    806,
    2202,
    464,
    650,
    722,
    -1092,
    1502,
    -1186,
    -690,
    -886,
    224,
    148,
    -216,
    -1860,
    -1438,
    372,
    -1596,
    -664,
    -450,
    -746,
    2532,
    -1696,
    -474,
    162,
    2318,
    928,
    1650,
    -658,
    882,
    1126,
    1250,
    -972,
    3504,
    -348,
    -980,
    -2984,
    104,
    908,
    -2246,
    366,
    1792,
    -2694,
    -2036,
    -256,
    -992,
    46,
    -1002,
    2626,
    -272,
    -178,
    -110,
    310,
    -486,
    156,
    -792,
    1030,
    864,
    -2154,
    -1368,
    -1600,
    -272,
    -1620,
    2044,
    150,
    -308,
    -346,
    -3688,
    1280,
    -2220,
    1410,
    556,
    -2540,
    -428,
    -1120,
    -3464,
    -1480,
    -1592,
    -2904,
    -380,
    -2456,
    776,
    -32,
    2902,
    -938,
    -1588,
    -64,
    -3228,
    1300,
    -1794,
    -608,
    2454,
    -674,
    -1822,
    2312,
    -2276,
    -688,
    3420,
    -2230,
    1572,
    866,
    -1028,
    -576,
    -708,
    -124,
    1202,
    1450,
    -1338,
    -2820,
    1214,
    124,
    1798,
    1044,
    28,
    698,
    -188,
    162,
    2008,
    1354,
    -1552,
    -230,
    232,
    1156,
    964,
    198,
    756,
    -2668,
    -1092,
    -1406,
    -360,
    -2044,
    -270,
    2822,
    -568,
    -1144,
    1992,
    1226,
    872,
    -548,
    -1774,
    1276,
    -344,
    664,
    -392,
    -3194,
    2652,
    2688,
    618,
    1812,
    -1446,
    -1342,
    0,
    1308,
    -560,
    1622,
    2496,
    -102,
    -702,
    780,
    412,
    562,
    498,
    -234,
    -2706,
    -1208,
    574,
    -1508,
    -448,
    -2356,
    -2686,
    610,
    1874,
    -1244,
    16,
    -1240,
    626,
    -1408,
    766,
    18,
    744,
    -376,
    98,
    1122,
    288,
    -2134,
    -96,
    -926,
    -80,
    -1976,
    -396,
    1016,
    -1032,
    -188,
    -176,
    -1866,
    -1636,
    1730,
    2010,
    -1202,
    -1614,
    1732,
    134,
    -1292,
    -2462,
    568,
    632,
    -2602,
    -558,
    1728,
    -1670,
    2234,
    930,
    1168,
    -2398,
    -344,
    1280,
    1698,
    1838,
    1624,
    790,
    1112,
    1528,
    824,
    -276,
    -2060,
    -44,
    -786,
    -360,
    620,
    -936,
    860,
    -534,
    1688,
    -1874,
    1518,
    396,
    586,
    718,
    324,
    -366,
    2176,
    2470,
    204,
    1266,
    -130,
    -508,
    444,
    -212,
    2780,
    -1652,
    1384,
    398,
    -1210,
    -1032,
    208,
    -268,
    -3114,
    144,
    420,
    -1620,
    -910,
    -1024,
    468,
    -450,
    170,
    794,
    -3316,
    1208,
    -516,
    160,
    1372,
    1628,
    878,
    186,
    -624,
    -532,
    766,
    1892,
    -874,
    74,
    3884,
    -3742,
    -526,
    1176,
    -1148,
    -1052,
    1550,
    148,
    -632,
    -3024,
    1380,
    186,
    -2198,
    1748,
    730,
    352,
    -360,
    -974,
    374,
    3724,
    -1476,
    -764,
    -1432,
    798,
    628,
    -130,
    -478,
    2160,
    -1846,
    -234,
    -3142,
    -760,
    -1364,
    -384,
    1554,
    2,
    946,
    1674,
    726,
    1138,
    1568,
    854,
    192,
    -194,
    22,
    1118,
    -982,
    -654,
    -414,
    -2002,
    -1206,
    296,
    3028,
    1756,
    -798,
    1688,
    1750,
    2368,
    -2326,
    1090,
    -798,
    1530,
    -800,
    6,
    -6,
    -1666,
    210,
    -1264,
    -1270,
    -214,
    1636,
    1194,
    -228,
    1718,
    -14,
    -1960,
    -1132,
    -1642,
    960,
    214,
    1546,
    -66,
    -998,
    -1228,
    -364,
    -2388,
    452,
    192,
    2002,
    -146,
    1226,
    942,
    -3278,
    2024,
    -2544,
    -718,
    914,
    978,
    428,
    300,
    524,
    -248,
    30,
    2964,
    -1110,
    -92,
    -588,
    1276,
    978,
    -2292,
    930,
    -220,
    1698,
    -1932,
    -2924,
    1206,
    -1720,
    90,
    -2498,
    866,
    1246,
    2800,
    2300,
    -50,
    -902,
    -732,
    1856,
    596,
    -2922,
    868,
    -1830,
    448,
    -420,
    -766,
    732,
    1356,
    -1670,
    -668,
    -866,
    -414,
    798,
    346,
    362,
    -1386,
    -172,
    -538,
    -2228,
    386,
    -834,
    -176,
    -874,
    590,
    -270,
    -3038,
    -1830,
    -360,
    1682,
    216,
    682,
    -1064,
    180,
    756,
    -2296,
    16,
    -1304,
    -324,
    682,
    596,
    262,
    1950,
    744,
    258,
    1846,
    -998,
    1882,
    -1666,
    70,
    -1250,
    1042,
    -90,
    438,
    1534,
    -796,
    2918,
    884,
    820,
    -2090,
    488,
    538,
    -582,
    2174,
    -1072,
    -192,
    -738,
    -398,
    -1070,
    -1090,
    1222,
    2616,
    1180,
    -494,
    -2026,
    -1262,
    -1194,
    640,
    -162,
    -864,
    472,
    1758,
    648,
    -448,
    324,
    -1200,
    -1938,
    898,
    -654,
    940,
    -500,
    1966,
    -1592,
    1044,
    -1298,
    -638,
    -1248,
    234,
    -1502,
    612,
    738,
    370,
    1470,
    1150,
    6,
    906,
    1726,
    -1496,
    94,
    326,
    2710,
    -2032,
    1580,
    -756,
    2802,
    -722,
    2650,
    174,
    -1234,
    -1014,
    -136,
    1008,
    282,
    -246,
    -974,
    -746,
    1058,
    2004,
    -454,
    -2510,
    -546,
    964,
    -770,
    -386,
    3158,
    394,
    -1630,
    408,
    1054,
    752,
    596,
    -412,
    -2498,
    -1676,
    2682,
    462,
    1360,
    42,
    -1180,
    1542,
    -2762,
    1582,
    -286,
    -136,
    1740,
    -2622,
    -532,
    -122,
    1256,
    -750,
    1824,
    2288,
    4130,
    102,
    994,
    -1130,
    -1052,
    108,
    622,
    -1988,
    -1186,
    1208,
    1770,
    554,
    -1646,
    2168,
    -990,
    -402,
    -1874,
    -200,
    -1798,
    308,
    -612,
    -474,
    654,
    1498,
    -2116,
    90,
    652,
    -1238,
    1798,
    496,
    210,
    306,
    -1980,
    -2742,
    364,
    904,
    2,
    2500,
    1392,
    -740,
    1594,
    318,
    3294,
    1520,
    2100,
    -1110,
    -1900,
    620,
    -1554,
    -478,
    446,
    348,
    1246,
    2142,
    2092,
    1332,
    -1306,
    2038,
    460,
    512,
    -1972,
    -1780,
    -1854,
    56,
    -378,
    900,
    -1064,
    -3632,
    1426,
    1382,
    -1730,
    -746,
    -2920,
    -208,
    1592,
    396,
    614,
    1386,
    -1966,
    -1352,
    362,
    796,
    -3704,
    -2810,
    -2534,
    1208,
    -1806,
    -1530,
    -1482,
    -528,
    470,
    -1220,
    2536,
    960,
    2414,
    730,
    1164,
    708,
    932,
    -44,
    1590,
    1060,
    232,
    -826,
    -1144,
    -1114,
    1868,
    304,
    1718,
    -196,
    66,
    -492,
    1598,
    -476,
    -536,
    154,
    1336,
    1344,
    -1090,
    -1516,
    -796,
]

# Get unfiltered signal
signalNoise = []
try:
    with open(f"{SCRIPT_DIR}/Test5.txt", "r+") as file:
        temp = file.readline()[1:-1]
        tempProcessed = temp.split(",")

        for value in tempProcessed:
            signalNoise += [int(value)]
except:
    print("Run Test5 first")


# Plot signal to see
t = list(range(0, len(signal)))
pyplot.plot(t, signal, "b", label="Filtered Signal")
t = list(range(0, len(signalNoise)))
pyplot.plot(t, signalNoise, "c", label="Noisy Signal")
pyplot.title("Before and after filtering")
pyplot.legend()
pyplot.show()
