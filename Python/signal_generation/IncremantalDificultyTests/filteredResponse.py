# Seting upp libraries
import os
import sys

SCRIPT_DIR = os.path.dirname(os.path.abspath(__file__))
sys.path.append(os.path.dirname(SCRIPT_DIR))

import matplotlib.pyplot as pyplot

# Filtered signal
signal = [
-1562,-1570,-50,10,70,108,118,-54,-164,12,36,-52,32,-94,-90,232,-48,6,50,-4,14,40,-54,-28,-72,-6,-16,24,134,-20,-62,10,56,-26,-54,66,124,-22,-58,58,136,-16,232,-14,120,20,22,34,136,4,-50,-84,46,60,122,4,-2,130,-26,-100,-28,-8,160,-4,-10,34,-6,-150,66,-26,16,112,-48,-56,116,38,52,40,260,72,-334,-132,-38,-14,-6,-80,52,144,86,-116,-34,-8,98,-44,44,104,108,-22,104,60,96,40,6,30,94,-126,116,88,10,-78,-6,-74,96,-56,-52,54,70,-42,34,38,22,50,-54,22,168,-32,132,0,78,32,140,-12,82,46,-14,-68,62,-84,80,44,102,80,98,44,86,10,-18,24,66,-42,-6,58,24,50,-70,-22,-156,202,240,-248,228,-46,68,-178,40,2,136,-82,44,-64,60,18,106,-46,82,10,68,-58,152,-20,58,-6,84,-36,60,0,158,12,72,-88,48,-60,38,-56,110,-30,126,-68,30,14,130,-48,60,-160,30,-56,76,-98,86,-96,142,-154,132,-112,70,-136,26,-70,86,-158,26,-136,150,-216,142,-198,104,-284,114,-354,172,-332,144,-606,256,-1228,2396,-13642,-212,1474,10,684,30,482,-8,408,12,276,82,224,60,240,66,176,38,192,36,98,34,166,102,144,62,164,66,80,60,76,60,90,106,78,24,46,22,102,22,14,106,72,74,82,30,44,32,80,72,32,48,64,88,50,84,72,58,100,44,62,90,28,46,106,76,88,28,62,82,82,98,30,48,116,118,168,214,326,-332,-684,-100,-130,28,-32,66,-24,-6,-2,20,-26,30,-42,8,0,62,-26,62,-10,54,40,30,10,36,18,20,0,42,22,50,-6,58,-6,10,-48,4,6,60,52,-6,26,38,-2,88,-16,28,8,40,16,38,2,34,30,52,4,50,10,28,24,36,2,62,0,22,84,12,22,52,28,10,-10,22,28,34,-10,-106,60,200,38,66,22,54,-28,38,-22,64,28,46,16,54,32,42,-6,42,76,24,36,14,42,50,-18,84,0,48,-8,36,80,56,34,-2,6,12,16,74,8,38,58,40,14,24,50,42,4,38,12,40,6,84,-16,52,58,14,-20,48,10,30,-2,22,44,14,14,62,70,32,56,66,42,4,-28,60,128,20,-6,22,10,-8,0,106,2,96,8,28,18,98,-4,102,44,60,8,86,-50,72,2,10,6,60,20,62,-20,104,34,20,-8,42,42,100,8,72,32,84,62,22,16,-24,28,32,12,104,38,44,22,80,30,32,12,74,-16,8,66,30,-30,78,-10,104,6,72,18,10,46,34,38,84,136,64,-8,24,42,114,46,-4,52,6,132,0,198,420,-716,120,-160,84,14,110,30,66,-66,88,-22,102,-34,0,0,46,-6,66,-4,66,-6,104,-46,62,-40,70,-32,64,20,68,-32,140,34,66,-34,58,24,-12,2,80,-22,92,84,96,58,50,-16,48,34,74,-30,18,8,102,38,50,42,74,16,4,-30,108,56,52,2,118,-32,88,-36,40,-6,48,16,68,-38,62,-116,76,148,96,24,132,44,110,32,-8,60,132,-26,46,-28,108,42,58,16,78,46,82,76,52,-10,100,16,98,16,56,86,102,14,108,-22,78,-14,66,-4,136,34,124,84,74,26,88,-16,96,-26,120,78,80,-12,86,72,130,10,102,22,148,-62,98,12,22,8,108,66,86,10,130,52,122,6,50,14,190,74,124,-12,312,180,6,-2,50,76,110,-84,106,42,152,52,122,-18,102,8,122,36,60,92,132,50,228,24,142,76,150,32,126,50,138,40,204,-30,110,-24,156,-20,120,78,132,-54,220,30,160,14,322,82,210,-28,248,-4,220,56,378,96,330,130,416,-24,314,8,498,-16,432,22,602,54,506,36,756,-86,900,-114,1188,18,1676,-188,3444,-552,-30288,5196,-2692,540,-1362,212,-870,220,-716,186,-636,142,-400,138,-450,152,-226,-26,-354,86,-160,78,-288,64,-184,182,-264,148,-114,120,-148,56,-60,-30,-340,70,-102,180,62,34,-202,186,2,102,-114,-24,-56,72,-156,36,24,134,52,86,-76,54,30,12,16,130,-44,70,-4,32,38,112,96,42,20,12,-88,82,102,6,-168,2,88,220,60,-150,-160,242,-96,60,-28,134,52,-26,-30,114,6,16,-26,82,88,164,56,154,22,90,-150,-20,-32,-58,58,70,12,210,82,62,18,148,54,162,18,-106,52,108,20,-16,-36,112,90,-22,-32,82,-82,-6,-114,-28,118,186,-166,128,76,16,60,68,154,146,-26,112,114,24,68,168,76,-32,-120,94,276,68,-84,-12,-26,112,54,202,96,-148,62,-182,8,40,32,-110,160,-86,-6,34,-134,-168,40,-64,54,100,58,-80,-50,-36,182,-22,-14,76,86,-28,8,-106,74,92,130,-16,64,116,34,204,20,102,76,-152,36,112,176,-126,22,16,78,-54,-8,98,70,-52,34,-70,-12,-46,84,4,58,16,74,-32,308,-96,-34,-4,32,-16,36,-146,48,68,180,60,60,-54,
]


# Get unfiltered signal
signalNoise = []
try:
    with open(f"{SCRIPT_DIR}/Test5.txt", "r+") as file:
        temp = file.readline()[1:-1]
        tempProcessed = temp.split(",")

        for value in tempProcessed:
            signalNoise += [int(value)]
except:
    print("Run Test5 first")


# Plot signal to see
t = list(range(0, len(signal)))
pyplot.plot(t, signal, "b", label="Filtered Signal")
t = list(range(0, len(signalNoise)))
pyplot.plot(t, signalNoise, "c", label="Noisy Signal")
pyplot.title("Before and after filtering")
pyplot.legend()
pyplot.show()
