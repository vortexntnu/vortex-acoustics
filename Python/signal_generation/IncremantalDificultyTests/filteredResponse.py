# Seting upp libraries
import os
import sys

SCRIPT_DIR = os.path.dirname(os.path.abspath(__file__))
sys.path.append(os.path.dirname(SCRIPT_DIR))

import matplotlib.pyplot as pyplot

# Filtered signal
signal = [
-614, -664, 814, -4, -92, 920, -670, -294, 734, -1604, 614, -522, -426, 174, 406, -648, -1058, 158, -1318, -9818, -4200, 6492, -1892, 2942, -458, -70, -368, -254, 682, 1900, 402, 
1926, -558, 522, -160, 286, 784, 1314, 1792, -690, 524, -52, -1036, 246, -1186, 244, 430, -302, 698, 774, 438, 654, -1374, 944, 42, 166, 1960, 382, -136, 454, 1328, 880, 28, 44, 1144, -26, 960, -1030, 574, -92, 680, 334, 510, -116, -428, -3412, 136, 1356, 126, -458, -56, 354, -282, -108, 654, -1270, 1214, -450, -124, 384, -486, -1418, -2310, -6852, -1158, 
6614, -2496, 578, 934, -146, 1284, 336, 106, 36, -404, 196, -662, 660, 434, -1552, 1532, 400, -2566, -428, 282, 1496, 236, 414, 1290, -26, 88, -344, 166, -824, -54, -10, -930, 656, 70, -162, 1252, 394, 542, -332, -696, -718, 182, -34, -288, -114, 32, -124, 52, 126, -160, -582, 680, -512, -1686, 22, 58, -216, 12, 62, -254, -282, -728, 264, -448, -132, 232, 
532, -528, -324, -758, 454, 580, 72, -514, -44, -420, -522, 422, -408, 236, 416, -358, 72, 446, 602, 312, 1062, -324, 1266, -1182, 740, 7614, -1230, -2488, -686, -1104, -952, -414, -934, 74, 170, 296, 916, 56, 36, 380, -666, -842, 128, 374, -688, 30, 436, -286, -318, -178, 316, 264, 62, -26, -50, -268, -360, -38, -152, -46, 550, -90, 246, -422, -38, 642, 130, -52, 228, 400, 284, 328, 50, 230, -240, -64, -326, 232, -226, 436, -444, -820, -16, 2, 124, -714, -626, 148, 536, 286, 590, -154, 216, 42, -310, 596, -510, -20, -108, -1878, 930, 1516, -44, 534, 586, 58, -532, -240, -454, 352, -318, -444, 646, 428, 260, -414, -956, 1004, 378, -542, 68, 24, -520, 338, 28, -436, -484, 24, 88, -212, -134, -296, -34, -152, 54, -510, -430, 308, 1340, -504, -272, 420, -244, -10, 364, 10, 556, -104, -158, 558, -72, 94, -342, -8, 282, -884, -184, 360, 588, 768, 44, -276, -164, 252, -2, 68, -18, -24, -328, -296, 224, 694, 210, -10, -340, -44, -334, -364, 44, 226, -144, -18, 58, -304, -48, -98, 58, -244, 32, 598, 314, -130, 508, 450, -1352, -432, 348, -108, 100, -204, 148, -62, -542, 180, 590, -260, 204, 0, -62, 248, -88, -66, -206, -34, 552, -118, 190, 508, -240, -108, -724, -18, 456, -772, 180, 152, 628, 640, -470, 710, 94, -1164, 172, 454, -526, 316, 404, -224, -130, -186, 28, 42, 364, 580, -148, 20, 98, 126, 176, 632, -796, -512, -492, -86, 238, -456, -110, 184, 44, -82, 246, -132, -478, 118, 70, -422, 304, -160, 452, 396, -436, 342, 92, -44, 60, -384, -302, -340, 42, 292, 14, -124, 142, 10, 484, -698, -212, 690, 506, 388, -174, -340, 380, 390, 362, 616, -454, 266, -378, -184, -608, -146, 342, -774, -132, 598, -192, 66, 538, -402, -264, 188, 140, 566, 66, 204, -612, -744, -346, -642, 100, 608, 250, -164, 840, -114, -798, 370, -98, 124, 252, -480, -42, 40, -506, 52, 410, -474, -360, 164, 116, -608, 672, 106, -300, 92, 704, 540, -160, -14, 480, 188, -710, -326, -44, 592, 234, -752, -328, -252, 606, 882, 300, -408, -462, 700, 394, 26, -462, -456, 78, -156, -92, 476, 100, 360, 374, 16, 22, -314, -1474, 234, 376, -516, 240, -392, 328, 286, -368, -136, 364, 172, 218, 400, -68, -296, 120, -20, -926, -48, 838, -114, -186, -184, 236, 66, 268, 370, 420, 720, -410, 140, -182, -392, 0, 386, -1544, -754, 926, -500, 72, 154, 178, -12, -124, 6, 510, 252, 222, -46, -84, 406, -204, -736, -94, 942, 836, 130, -532, -294, -80, 30, -264, 282, -108, -204, 718, 148, -376, 236, -60, 258, 178, 632, -1192, -918, 312, 210, -678, -1004, 490, 244, -306, 398, 210, -552, -108, -208, 640, 390, -730, -226, -956, -1228, 1902, 1056, -426, -350, 100, -36, -378, -198, 400, -246, -248, 14, 882, 10, 204, -842, 80, 1986, 756, 146, -204, -426, -558, 302, -176, -2, 312, -304, -158, 1048, -380, -846, -84, -48, 242, -1044, 16, 1180, -154, 302, 1226, -420, -610, 252, 84, 140, -614, 536, 766, 832, -394, -974, -636, 810, -1610, -1886, 32, -498, 1254, 438, -522, -776, 590, -436, 450, 614, 114, -254, 120, -264, 1128, 712, 652, 502, -1402, -32, 1198, 170, -486, 154, 450, 58, -198, 120, -342, 282, 680, -280, 704, -258, 48, 4284, 274, -1030, -1586, -714, -760, 374, -1368, -52, 190, -430, -88, -1434, -1002, 386, 662, -372, -246, -682, -916, -304, 1614, -992, 66, 444, 792, 1024, -728, -372, 126, -1206, 686, -580, 218, 1860, 694, -110, 2490, 1574, -3468, 198, 104, -578, 820, -628, -448, 676, -1086, 294, 390, -180, 372, 92, -704, -752, -620, 150, -780, -652, 198, -716, 514, -514, 304, -690, -34, 66, 706, 396, 160, -560, 888, 2, 1260, 726, 470, 526, -322, 1794, -20, -514, -350, -152, -746, -282, 424, 328, 270, 392, -1006, 118, 258, -10, -920, -692, 1184, -448, -1064, -252, 216, 232, -442, 1322, 488, 80, 16, -2190, -710, -1736, -1930, -720, -4440, -2748, 14120, 1604, -2530, 2330, -546, 1872, 778, 708, 64, 530, -12, 434, 494, -1252, 216, -420, -362, 176, -354, -316, 502, 596, -1316, -206, -464, 824, 620, 216, -758, 130, -1350, 84, -610, -224, 238, -36, -222, -490, -2428, -654, 1060, -294, -126, -72, 182, 28, -134, 30, -468, 458, -280, -1482, -1082, -540, 150, -406, 2124, 240, -150, 378, -526, -32, -182, -738, 724, -358, 48, 416, 1548, 588, -290, 1358, 888, -406, -3702, 786, 1854, -2590, 704, 814, -556, 392, 16, 362, 
-512, 870, 1744, -326, 1306, 102, -3218, 9594, -2118, -9150, -2952, -2320, -618, 208, -72, -402, 1660, -1182, 866, -372, -514, -144, 276, -18, -48, 2036, 252, -4756, -680, -46, 756, -52, 800, 250, 970, -914, 1438, 8, 1336, -46, -248, 1134, 1418, 776, -22, 432, 2628, -64, -354, 1622, -1860, 568, 684, 704, 716, -278, 190, 128, -924, 230, -1506, -146, 578, -562, 2562, 1350, 472, 312, -76, 824, -892, 1888, 270, 1366, 1074, -376, -54, 496, -172, 3626, -1790, 6916, -4894, -10686, -1686, 472, -902, -756, 304, 238, -288, -1120, 598, -1076, 892, -68, -652, 1256, 120, -632, 176,
]


# Get unfiltered signal
signalNoise = [
]
try:
    with open(f"{SCRIPT_DIR}/Test5.txt", "r+") as file:
        temp = file.readline()[1:-1]
        tempProcessed = temp.split(",")

        for value in tempProcessed:
            signalNoise += [int(value)]
except:
    print("Run Test5 first")


# Plot signal to see
t = list(range(0, len(signal)))
pyplot.plot(t, signal, "b", label="Filtered Signal")
t = list(range(0, len(signalNoise)))
pyplot.plot(t, signalNoise, "c", label="Noisy Signal")
pyplot.title("Before and after filtering")
pyplot.legend()
pyplot.show()
