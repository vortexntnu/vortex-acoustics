# Seting upp libraries
import os
import sys

SCRIPT_DIR = os.path.dirname(os.path.abspath(__file__))
sys.path.append(os.path.dirname(SCRIPT_DIR))

import matplotlib.pyplot as pyplot

# Filtered signal
signal = [
    
]


# Get unfiltered signal
signalNoise = [
-130,   894,    -1022,  -1133,  723,    180,    19,     939,    826,
    -1356,  78,     -299,   -625,   1290,   -805,   565,    -506,   962,
    -1410,  149,    -1396,  -860,   330,    1699,   -1145,  852,    1880,
    -979,   978,    480,    -332,   499,    115,    1410,   -131,   -155,
    1082,   618,    398,    -214,   -891,   -191,   -795,   391,    490,
    490,    -21,    -2119,  -848,   279,    -406,   217,    2209,   2659,
    3522,   4776,   720,    -730,   472,    1182,   -184,   3139,   7615,
    7265,   7406,   4571,   1921,   2158,   845,    314,    228,    1566,
    2464,   4318,   5343,   4504,   1290,   -227,   -4180,  -5086,  -4286,
    -3278,  -2311,  2233,   -1758,  299,    -633,   -3882,  -5997,  -7193,
    -6126,  -5309,  -2984,  190,    -923,   1434,   1767,   -2717,  -3498,
    -4830,  -3857,  -1392,  997,    2775,   3250,   6038,   4819,   4284,
    2484,   1065,   3544,   2788,   6128,   8821,   7185,   9280,   8245,
    6751,   2731,   2305,   1281,   -485,   3248,   4475,   3600,   4572,
    2220,   1111,   -2515,  -5022,  -6820,  -5416,  -4501,  -3096,  -2387,
    -439,   -2720,  -1666,  -6144,  -9069,  -8594,  -7711,  -7328,  -5614,
    -2076,  -87,    -2223,  102,    -1704,  -3780,  -2556,  -4123,  -1175,
    3902,   4749,   7271,   7570,   5088,   5685,   2909,   2123,   2818,
    2460,   5599,   7778,   7509,   9358,   7521,   4796,   2414,   2200,
    -615,   184,    405,    1463,   2885,   1216,   1542,   -77,    -3989,
    -5836,  -7277,  -7490,  -4625,  -2561,  -2219,  -1749,  -2158,  -3616,
    -3988,  -7256,  -8471,  -7240,  -5263,  -2903,  1278,   1918,   1189,
    -25,    -457,   -1645,  -2544,  -2246,  335,    1460,   5633,   6526,
    8791,   8805,   7424,   5235,   2697,   2210,   2246,   4312,   5629,
    8983,   6779,   3867,   552,    -805,   -2204,  -6510,  -4014,  -2146,
    -2674,  -124,   994,    -266,   -958,   -684,   -3278,  -5571,  -2423,
    -3290,  -2691,  -371,   285,    -1901,  -2367,  -5216,  -7042,  -6741,
    -7266,  -4361,  -3359,  -2020,  523,    1444,   1503,   248,    -2408,
    -2289,  1248,   1923,   2212,   5829,   6756,   6781,   6119,   3168,
    3025,   -120,   -1180,  146,    -824,   2883,   2360,   4688,   2381,
    -238,   -710,   -4338,  -2751,  -2169,  478,    1255,   4244,   3361,
    1945,   -168,   -2891,  -2004,  -4186,  -5545,  -5866,  -576,   -69,
    -814,   -235,   -3213,  -4905,  -4046,  -5480,  -4419,  -3061,  579,
    2200,   4283,   3719,   1945,   294,    1331,   1640,   633,    3396,
    8099,   10426,  11784,  11846,  11925,  8461,   3420,   1133,   167,
    -3215,  -1877,  -2691,  -2598,  -2199,  -3326,  -4841,  -6697,  -7782,
    -4842,  -3890,  -333,   4065,   9445,   9622,   9357,   7628,   7504,
    3476,   1592,   601,    -1755,  -2028,  -2950,  -4427,  -5040,  -9104,
    -9462,  -11612, -11686, -9497,  -7373,  -505,   3008,   5803,   8030,
    8522,   6870,   6292,   5190,   3087,   3914,   2491,   3092,   2718,
    -113,   -3348,  -6488,  -9493,  -10959, -13654, -9076,  -7317,  78,
    2652,   4007,   4957,   8142,   5995,   6194,   6216,   5548,   7762,
    8434,   7763,   7364,   3379,   -972,   -4664,  -8528,  -11965, -9968,
    -11141, -8600,  -4481,  -1841,  816,    1399,   2681,   2180,   1037,
    5352,   4875,   9568,   8322,   9429,   5778,   2370,   -634,   -4857,
    -9941,  -10990, -7794,  -11890, -7374,  -7438,  -5065,  -6103,  -4418,
    -3174,  -746,   33,     4905,   7236,   12740,  13081,  12802,  12460,
    10465,  4555,   2724,   -617,   -3737,  -3280,  -4171,  -4126,  -2727,
    -5964,  -5914,  -6748,  -5692,  -4000,  -2100,  2387,   6830,   10791,
    12187,  12539,  9858,   6285,   3685,   1021,   -2550,  -3354,  -4468,
    -5310,  -5494,  -10297, -10499, -12850, -13202, -13102, -13521, -6374,
    -3519,  2564,   7125,   8004,   9885,   7920,   6964,   6268,   4878,
    6959,   4205,   2983,   5047,   2326,   -32,    -6865,  -7135,  -9432,
    -9093,  -6409,  -3946,  804,    5924,   5750,   9134,   9823,   8366,
    8054,   7971,   7748,   7164,   4888,   7848,   3964,   137,    -4596,
    -9533,  -13500, -14817, -17554, -17573, -14542, -8234,  -7261,  -3725,
    -2646,  -783,   -489,   1443,   2676,   3587,   6372,   8317,   9015,
    6513,   6247,   877,    -1845,  -7110,  -8387,  -7412,  -7474,  -1372,
    60,     372,    1169,   2302,   2707,   4390,   7526,   8171,   10966,
    13349,  16369,  15345,  11705,  11805,  5525,   -295,   -5613,  -7077,
    -8573,  -8939,  -6793,  -9406,  -9481,  -10156, -9724,  -10522, -9756,
    -8396,  -4429,  -405,   4289,   4398,   7218,   5682,   3436,   1294,
    -1733,  -5087,  -6095,  -4425,  -4361,  -4875,  -3874,  -4169,  -5655,
    -6952,  -4884,  -4427,  -47,    4429,   7946,   12834,  15304,  15674,
    13956,  11933,  10505,  7435,   4381,   5408,   3655,   4557,   147,
    -2355,  -5854,  -8466,  -10140, -12634, -10225, -7455,  -5330,  -303,
    2225,   -99,    4393,   958,    210,    1430,   482,    -288,   283,
    -1852,  118,    -3507,  -5536,  -11261, -10151, -14942, -12330, -10800,
    -5987,  -1458,  2312,   4653,   7006,   8635,   5609,   8108,   8545,
    11429,  10406,  13115,  13317,  11457,  6656,   5828,   1741,   -3347,
    -4606,  -5140,  -4953,  -2619,  -2084,  283,    1416,   -449,   -1713,
    -1132,  -484,   802,    191,    3106,   3651,   6084,   3440,   -1111,
    -3937,  -8621,  -11987, -14162, -12462, -12357, -7929,  -6275,  -4384,
    -7103,  -5168,  -4676,  -2491,  -251,   3205,   8850,   9801,   11854,
    12244,  9971,   8163,   6067,   1755,   3166,   1249,   990,    3543,
    2112,   1696,   -655,   849,    -2450,  -263,   368,    813,    1493,
    7126,   7468,   7389,   9004,   4843,   2174,   -746,   -3533,  -6720,
    -7298,  -6837,  -5700,  -6945,  -7094,  -7536,  -11579, -13070, -12132,
    -9067,  -6370,  -1607,  2590,   3346,   5040,   6769,   6920,   3810,
    2645,   1081,   834,    1731,   3399,   3020,   2169,   303,    -2276,
    -1761,  -5417,  -833,   -247,   3772,   6571,   6911,   10256,  8641,
    9134,   6053,   4490,   2848,   388,    2373,   2557,   2267,   1123,
    -1269,  -5986,  -7798,  -10754, -13059, -11811, -10978, -7436,  -3460,
    -716,   -447,   1300,   1680,   -76,    584,    1532,   1145,   5536,
    3463,   3722,   2495,   -394,   -3218,  -6033,  -5102,  -8790,  -4224,
    -3906,  -119,   2287,   4438,   4997,   4697,   4736,   6022,   5737,
    9005,   9822,   11728,  10910,  8630,   3979,   1391,   -1664,  -4908,
    -8485,  -6894,  -10003, -8714,  -4280,  -1833,  -1747,  -2338,  -2560,
    -2756,  -2331,  -267,   2231,   2833,   7330,   5150,   7517,   2032,
    945,    -3728,  -7890,  -7338,  -6765,  -6664,  -6061,  -3599,  -2990,
    -3506,  -1754,  -4035,  -2554,  187,    2206,   5620,   9679,   12755,
    11737,  12573,  7456,   3765,   2147,   -587,   -1994,  -4413,  -3757,
    -3085,  -2903,  -6445,  -5761,  -8275,  -8365,  -5802,  -1889,  -662,
    4466,   9448,   8803,   10452,  7682,   5873,   5961,   -360,   -1300,
    -1388,  -2137,  -3180,  -1688,  -5838,  -6530,  -8300,  -10999, -9575,
    -9001,  -5747,  -1494,  2171,   6860,   9283,   7811,   6885,   6414,
    3764,   2844,   4046,   4726,   3930,   4278,   -1482,  -3134,  -7581,
    -9983,  -11609, -9918,  -9037,  -6245,  -3702,  2530,   4369,   7010,
    5850,   6706,   6501,   6359,   7685,   8522,   8679,   8284,   7186,
    3337,   -2638,  -5683,  -7753,  -11964, -9470,  -9427,  -7983,  -4004,
    -2691,  1128,   -461,   1210,   525,    3681,   4930,   6964,   7690,
    8784,   11481,  7230,   2919,   -268,   -4447,  -8938,  -11851, -10738,
    -11717, -9081,  -5837,  -6715,  -5287,  -4682,  -3259,  -1492,  2842,
    5607,   9185,   12485,  13760,  14598,  11802,  8388,   4933,   1030,
    -341,   -4151,  -3384,  -5095,  -1878,  -3591,  -2864,  -5153,  -4616,
    -4972,  -1603,  -290,   2819,   7193,   10854,  13025,  12937,  11453,
    8401,   1539,   60,     -1792,  -3587,  -5137,  -4979,  -7367,  -9660,
    -11847, -12862, -14050, -14628, -11049, -6243,  -4560,  3111,   4828,
    10060,  10895,  10589,  9163,   5675,   5194,   5644,   5784,   3936,
    3778,   1379,   -1045,  -5890,  -6996,  -9939,  -8699,  -8338,  -2745,
    921,    6510,   6475,   9831,   10670,  11034,  6981,   5978,   7532,
    8628,   7924,   6853,   3137,   139,    -4003,  -9094,  -13298, -17558,
    -15587, -15236, -12033, -6698,  -6676,  -5836,  -2363,  -3622,  681,
    530,    1191,   5679,   6872,   8398,   4861,   7697
]
try:
    with open(f"{SCRIPT_DIR}/Test5.txt", "r+") as file:
        temp = file.readline()[1:-1]
        tempProcessed = temp.split(",")

        for value in tempProcessed:
            signalNoise += [int(value)]
except:
    print("Run Test5 first")


# Plot signal to see
t = list(range(0, len(signal)))
pyplot.plot(t, signal, "b", label="Filtered Signal")
t = list(range(0, len(signalNoise)))
pyplot.plot(t, signalNoise, "c", label="Noisy Signal")
pyplot.title("Before and after filtering")
pyplot.legend()
pyplot.show()
